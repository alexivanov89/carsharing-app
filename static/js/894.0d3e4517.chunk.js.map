{"version":3,"file":"static/js/894.0d3e4517.chunk.js","mappings":"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","sources":["utils/numberWithSpaces.js","webpack://carsharing-app/./src/pages/OrderPage/index.module.scss?adba","pages/OrderPage/OrderPage.jsx"],"sourcesContent":["export const numberWithSpaces = (price) => {\n  return price.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ');\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"OrderPage_container__EQoGT\",\"navigationOrderForm\":\"OrderPage_navigationOrderForm__VMvo6\",\"wrapper\":\"OrderPage_wrapper__eyaWV\",\"button__navigation\":\"OrderPage_button__navigation__jHU+l\",\"separator\":\"OrderPage_separator__5lL3Q\",\"orderForm\":\"OrderPage_orderForm__V+q7h\",\"stepForm\":\"OrderPage_stepForm__1nHzi\",\"form\":\"OrderPage_form__KS8Bs\",\"section\":\"OrderPage_section__eOS-S\",\"location__city\":\"OrderPage_location__city__t-aAF\",\"location__point\":\"OrderPage_location__point__KVuGY\",\"location__map\":\"OrderPage_location__map__UCiQ0\",\"location__map__header\":\"OrderPage_location__map__header__PdMud\",\"location__map__body\":\"OrderPage_location__map__body__M26pk\",\"orderInfo\":\"OrderPage_orderInfo__98pN0\",\"orderInfo__header\":\"OrderPage_orderInfo__header__6jslK\",\"orderInfo__params\":\"OrderPage_orderInfo__params__5ZIaL\",\"orderInfo__param\":\"OrderPage_orderInfo__param__Fp2tF\",\"orderInfo__param__name\":\"OrderPage_orderInfo__param__name__EEA-Q\",\"orderInfo__param__value\":\"OrderPage_orderInfo__param__value__axmmz\",\"orderInfo__price\":\"OrderPage_orderInfo__price__bapkN\",\"orderInfo__price__label\":\"OrderPage_orderInfo__price__label__OrFPN\",\"orderInfo__button\":\"OrderPage_orderInfo__button__hUfaC\",\"select\":\"OrderPage_select__tj9ne\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { useForm, Controller } from 'react-hook-form';\nimport ReactSelect from 'react-select';\nimport { SeparatorIcon } from '../../assets/icons/UngroupedIcons';\nimport Button from '../../components/UI/Button/Button';\nimport Map from '../../assets/img/map.webp';\nimport { setCurrentStep, setFilledStep } from '../../store/slices/orderFormSlice';\nimport { numberWithSpaces } from '../../utils/numberWithSpaces';\nimport styles from './index.module.scss';\nimport './select.scss';\n\nconst defaultValues = {};\n\nconst OrderPage = () => {\n  const dispatch = useDispatch();\n  const {\n    currentStep,\n    filledStep,\n    pointOfIssue,\n    car,\n    rentalDuration,\n    rate,\n    additionalServices,\n    price,\n  } = useSelector(({ orderForm }) => orderForm);\n\n  const { city, point } = pointOfIssue;\n  const { handleSubmit, reset, setValue, control } = useForm({ defaultValues });\n\n  const onSubmit = (data) => {\n    console.log('data', data);\n  };\n\n  const renderButton = (step) => {\n    switch (step) {\n      case 0:\n        return (\n          <Button\n            classes={styles.orderInfo__button}\n            disabled={!(city && point)}\n            onClick={() => {\n              dispatch(setCurrentStep(currentStep + 1));\n              dispatch(setFilledStep(filledStep + 1));\n            }}\n          >\n            Выбрать модель\n          </Button>\n        );\n      case 1:\n        return (\n          <Button\n            classes={styles.orderInfo__button}\n            onClick={() => {\n              dispatch(setCurrentStep(currentStep + 1));\n              dispatch(setFilledStep(filledStep + 1));\n            }}\n          >\n            Дополнительно\n          </Button>\n        );\n      case 2:\n        return (\n          <Button\n            classes={styles.orderInfo__button}\n            onClick={() => {\n              dispatch(setCurrentStep(currentStep + 1));\n              dispatch(setFilledStep(filledStep + 1));\n            }}\n          >\n            Итого\n          </Button>\n        );\n      case 3:\n        return (\n          <Button\n            classes={styles.orderInfo__button}\n            onClick={() => {\n              dispatch(setCurrentStep(currentStep + 1));\n              dispatch(setFilledStep(filledStep + 1));\n            }}\n          >\n            Заказать\n          </Button>\n        );\n      default:\n        return (\n          <Button\n            classes={styles.orderInfo__button}\n            onClick={() => {\n              dispatch(setCurrentStep(currentStep + 1));\n              dispatch(setFilledStep(filledStep + 1));\n            }}\n          >\n            Выбрать модель\n          </Button>\n        );\n    }\n  };\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.navigationOrderForm}>\n        <div className={styles.wrapper}>\n          <Button\n            classes={styles.button__navigation}\n            filled={filledStep > -1}\n            active={currentStep === 0}\n            onClick={() => {\n              dispatch(setCurrentStep(0));\n            }}\n          >\n            Местоположение\n          </Button>\n          <div className={styles.separator}>\n            <SeparatorIcon />\n          </div>\n          <Button\n            classes={styles.button__navigation}\n            filled={filledStep > 0}\n            active={currentStep === 1}\n            disabled={filledStep < 0}\n            onClick={() => {\n              dispatch(setCurrentStep(1));\n            }}\n          >\n            Модель\n          </Button>\n          <div className={styles.separator}>\n            <SeparatorIcon />\n          </div>\n          <Button\n            classes={styles.button__navigation}\n            filled={filledStep > 1}\n            active={currentStep === 2}\n            disabled={filledStep < 1}\n            onClick={() => {\n              dispatch(setCurrentStep(2));\n            }}\n          >\n            Дополнительно\n          </Button>\n          <div className={styles.separator}>\n            <SeparatorIcon />\n          </div>\n          <Button\n            classes={styles.button__navigation}\n            filled={filledStep > 2}\n            active={currentStep === 3}\n            disabled={filledStep < 2}\n            onClick={() => {\n              dispatch(setCurrentStep(3));\n            }}\n          >\n            Итого\n          </Button>\n        </div>\n      </div>\n      <div className={styles.orderForm}>\n        <div className={styles.stepForm}>\n          <form onSubmit={handleSubmit(onSubmit)} className={styles.form}>\n            {currentStep === 0 && (\n              <section className={styles.location}>\n                <div className={styles.location__city}>\n                  <label>Город</label>\n                  <Controller\n                    name=\"city\"\n                    control={control}\n                    render={({ field }) => (\n                      <ReactSelect\n                        id=\"city\"\n                        placeholder={'Начните вводить город ...'}\n                        isClearable\n                        {...field}\n                        options={[\n                          { value: '1', label: 'Ульяновск' },\n                          { value: '2', label: 'Саратов' },\n                          { value: '3', label: 'Санкт-Петербург' },\n                          { value: '4', label: 'Краснодар' },\n                          { value: '5', label: 'Воронеж' },\n                        ]}\n                        onChange={() => console.log('test')}\n                        className={styles.select}\n                        classNamePrefix=\"select\"\n                      />\n                    )}\n                  />\n                </div>\n                <div className={styles.location__point}>\n                  <label>Пункт выдачи</label>\n                  <Controller\n                    name=\"point\"\n                    control={control}\n                    render={({ field }) => (\n                      <ReactSelect\n                        id=\"point\"\n                        placeholder={'Начните вводить пункт ...'}\n                        isClearable\n                        {...field}\n                        options={[\n                          { value: '1', label: 'Нариманова 42' },\n                          { value: '2', label: 'Нариманова 24' },\n                        ]}\n                        onChange={() => console.log('test')}\n                        className={styles.select}\n                        classNamePrefix=\"select\"\n                      />\n                    )}\n                  />\n                </div>\n                <div className={styles.location__map}>\n                  <p className={styles.location__map__header}>Выбрать на карте:</p>\n                  <div\n                    className={styles.location__map__body}\n                    style={{\n                      background: `url(${Map}) center / cover no-repeat `,\n                    }}\n                  ></div>\n                </div>\n              </section>\n            )}\n            {currentStep === 1 && <div>step2</div>}\n            {currentStep === 2 && <div>step3</div>}\n            {currentStep === 3 && <div>step4</div>}\n          </form>\n        </div>\n        <div className={styles.orderInfo}>\n          <div className={styles.orderInfo__header}>Ваш заказ:</div>\n          <div className={styles.orderInfo__params}>\n            {city && point && (\n              <div className={styles.orderInfo__param}>\n                <div className={styles.orderInfo__param__name}>Пункт выдачи</div>\n                <div className={styles.orderInfo__param__value}>\n                  <div className={styles.orderInfo__city}>{`${city},`}</div>\n                  <div className={styles.pointOfIssue}>{point}</div>\n                </div>\n              </div>\n            )}\n          </div>\n          <div className={styles.orderInfo__price}>\n            <p className={styles.orderInfo__price__label}>Цена:&nbsp;</p>\n            <p className={styles.orderInfo__price__value}>\n              {price.calculated\n                ? `${price.calculated} ₽`\n                : `от ${numberWithSpaces(price.min)} до ${numberWithSpaces(price.max)} ₽`}\n            </p>\n          </div>\n          {renderButton(currentStep)}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default OrderPage;\n"],"names":["numberWithSpaces","price","toString","replace","defaultValues","dispatch","useDispatch","useSelector","orderForm","currentStep","filledStep","pointOfIssue","car","rentalDuration","rate","additionalServices","city","point","useForm","handleSubmit","control","reset","setValue","className","styles","Button","classes","filled","active","onClick","setCurrentStep","disabled","onSubmit","data","console","log","name","render","field","id","placeholder","isClearable","options","value","label","onChange","classNamePrefix","style","background","Map","calculated","min","max","step","setFilledStep","renderButton"],"sourceRoot":""}